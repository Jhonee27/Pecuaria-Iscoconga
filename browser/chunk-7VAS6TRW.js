import{a as I,b as f,c as S,d as w,h as E,k as L,n as G,t as N,v as Y}from"./chunk-IGKX3LPO.js";import{a as F}from"./chunk-WIXQQANE.js";import{c as x}from"./chunk-BTAZEGTB.js";import{a as k}from"./chunk-RTPLDOJU.js";import{Aa as p,Ga as C,La as d,Tb as M,Wa as l,Wb as O,Xa as o,Ya as n,Za as c,bb as P,cb as y,hb as h,jb as r,lb as v,va as a}from"./chunk-W5R6ALBK.js";function B(t,i){t&1&&(o(0,"div",18),r(1," El email es requerido "),n())}function j(t,i){t&1&&(o(0,"div",18),r(1," Ingresa un email v\xE1lido "),n())}function q(t,i){t&1&&(o(0,"div",18),r(1," La contrase\xF1a es requerida "),n())}function z(t,i){if(t&1&&(o(0,"div",19),c(1,"i",20),r(2),n()),t&2){let s=y();a(2),v(" ",s.errorMessage," ")}}function A(t,i){t&1&&(o(0,"span"),c(1,"i",21),r(2," Iniciar Sesi\xF3n "),n())}function R(t,i){t&1&&(o(0,"span"),c(1,"div",22),r(2," Iniciando sesi\xF3n... "),n())}var T=class t{constructor(i,s,e){this.formBuilder=i;this.authService=s;this.router=e;this.loginForm=this.formBuilder.group({email:["",[f.required,f.email]],password:["",f.required]})}loginForm;loading=!1;errorMessage="";appName=k.appName;ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate(["/dashboard"])}onSubmit(){this.loginForm.valid?(this.loading=!0,this.errorMessage="",this.authService.login(this.loginForm.value).subscribe({next:i=>{this.loading=!1,this.router.navigate(["/dashboard"])},error:i=>{this.loading=!1,this.errorMessage=i.error?.message||"Error al iniciar sesi\xF3n. Verifica tus credenciales."}})):Object.keys(this.loginForm.controls).forEach(i=>{this.loginForm.get(i)?.markAsTouched()})}static \u0275fac=function(s){return new(s||t)(p(N),p(F),p(x))};static \u0275cmp=C({type:t,selectors:[["app-login"]],decls:25,vars:13,consts:[[1,"login-container"],[1,"login-card","card"],[1,"card-body","p-5"],[1,"text-center","mb-4"],[1,"card-title","text-primary"],[1,"bi","bi-building","me-2"],[1,"text-muted"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","usuario@ejemplo.com",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"mb-4"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100","py-2",3,"disabled"],[4,"ngIf"],[1,"invalid-feedback"],[1,"alert","alert-danger"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"bi","bi-box-arrow-in-right","me-2"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(s,e){if(s&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),c(5,"i",5),r(6),n(),o(7,"p",6),r(8,"Sistema de Gesti\xF3n"),n()(),o(9,"form",7),P("ngSubmit",function(){return e.onSubmit()}),o(10,"div",8)(11,"label",9),r(12,"Email"),n(),c(13,"input",10),d(14,B,2,0,"div",11)(15,j,2,0,"div",11),n(),o(16,"div",12)(17,"label",13),r(18,"Contrase\xF1a"),n(),c(19,"input",14),d(20,q,2,0,"div",11),n(),d(21,z,3,1,"div",15),o(22,"button",16),d(23,A,3,0,"span",17)(24,R,3,0,"span",17),n()()()()()),s&2){let m,u,_,g,b;a(6),v(" ",e.appName," "),a(3),l("formGroup",e.loginForm),a(4),h("is-invalid",((m=e.loginForm.get("email"))==null?null:m.invalid)&&((m=e.loginForm.get("email"))==null?null:m.touched)),a(),l("ngIf",(u=e.loginForm.get("email"))==null||u.errors==null?null:u.errors.required),a(),l("ngIf",(_=e.loginForm.get("email"))==null||_.errors==null?null:_.errors.email),a(4),h("is-invalid",((g=e.loginForm.get("password"))==null?null:g.invalid)&&((g=e.loginForm.get("password"))==null?null:g.touched)),a(),l("ngIf",(b=e.loginForm.get("password"))==null||b.errors==null?null:b.errors.required),a(),l("ngIf",e.errorMessage),a(),l("disabled",e.loginForm.invalid||e.loading),a(),l("ngIf",!e.loading),a(),l("ngIf",e.loading)}},dependencies:[O,M,Y,E,I,S,w,L,G],styles:['@charset "UTF-8";.login-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1b3eda,#441375);background-attachment:fixed;padding:2rem;animation:_ngcontent-%COMP%_gradientShift 8s ease-in-out infinite,_ngcontent-%COMP%_fadeIn 1.5s ease-out;z-index:9999;overflow:auto}.login-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 80%,rgba(120,119,198,.4) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(120,219,255,.2) 0%,transparent 50%);animation:_ngcontent-%COMP%_floatParticles 12s ease-in-out infinite;pointer-events:none}@supports (height: 100dvh){.login-container[_ngcontent-%COMP%]{height:100dvh}}body[_ngcontent-%COMP%]{margin:0;padding:0;overflow-x:hidden}@keyframes _ngcontent-%COMP%_gradientShift{0%,to{background:linear-gradient(135deg,#1b3eda,#441375)}25%{background:linear-gradient(135deg,#441375,#1b3eda)}50%{background:linear-gradient(135deg,#1b3eda,#d43f8d)}75%{background:linear-gradient(135deg,#d43f8d,#441375)}}@keyframes _ngcontent-%COMP%_floatParticles{0%,to{transform:translateY(0) rotate(0);opacity:.7}33%{transform:translateY(-20px) rotate(120deg);opacity:.9}66%{transform:translateY(10px) rotate(240deg);opacity:.5}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(1.1) rotate(-2deg);filter:blur(10px)}to{opacity:1;transform:scale(1) rotate(0);filter:blur(0)}}.login-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardEntrance 1.2s cubic-bezier(.25,.46,.45,.94) .5s both,_ngcontent-%COMP%_cardGlow 4s ease-in-out infinite 2s}.login-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,#ff6b6b,#4ecdc4,#45b7d1,#96ceb4,#ffeaa7,#ff6b6b);background-size:400%;border-radius:inherit;z-index:-1;animation:_ngcontent-%COMP%_borderGlow 6s linear infinite;opacity:0;transition:opacity .3s ease}.login-card[_ngcontent-%COMP%]:hover:after{opacity:1}@keyframes _ngcontent-%COMP%_cardEntrance{0%{opacity:0;transform:translateY(100px) scale(.8) rotateX(45deg);filter:blur(20px)}50%{opacity:.7;filter:blur(10px)}to{opacity:1;transform:translateY(0) scale(1) rotateX(0);filter:blur(0)}}@keyframes _ngcontent-%COMP%_cardGlow{0%,to{box-shadow:0 10px 40px #0000001a,0 0 0 1px #ffffff1a}50%{box-shadow:0 15px 50px #ffffff1a,0 0 0 1px #fff3,0 0 30px #ffffff1a}}@keyframes _ngcontent-%COMP%_borderGlow{0%{background-position:0% 50%;filter:hue-rotate(0deg)}50%{background-position:100% 50%}to{background-position:0% 50%;filter:hue-rotate(360deg)}}.form-label[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInLeft .8s ease-out .8s both}.form-control[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_inputPop .6s ease-out 1s both}.form-control[_ngcontent-%COMP%]:focus{animation:_ngcontent-%COMP%_inputFocus .3s ease-out}.alert[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out 1.2s both}.btn-primary[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_buttonBounce .8s ease-out 1.4s both}.btn-primary[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_buttonPulse .6s ease-in-out}.bg-light.rounded[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out 1.6s both}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_inputPop{0%{opacity:0;transform:scale(.8) translateY(20px)}70%{transform:scale(1.05) translateY(-5px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_inputFocus{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}@keyframes _ngcontent-%COMP%_buttonBounce{0%{opacity:0;transform:scale(.3) rotate(-180deg)}50%{transform:scale(1.1) rotate(5deg)}70%{transform:scale(.9) rotate(-2deg)}to{opacity:1;transform:scale(1) rotate(0)}}@keyframes _ngcontent-%COMP%_buttonPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.form-control[_ngcontent-%COMP%]:focus{position:relative}.form-control[_ngcontent-%COMP%]:focus:before{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,#ff6b6b,#4ecdc4,#45b7d1);border-radius:inherit;z-index:-1;animation:_ngcontent-%COMP%_inputGlow 2s linear infinite}@keyframes _ngcontent-%COMP%_inputGlow{0%,to{opacity:0}50%{opacity:.3}}.login-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-100%;left:0;width:100%;height:100%;background:radial-gradient(circle at 10% 20%,rgba(255,255,255,.1) 0%,transparent 2%),radial-gradient(circle at 30% 40%,rgba(255,255,255,.1) 0%,transparent 2%),radial-gradient(circle at 50% 60%,rgba(255,255,255,.1) 0%,transparent 2%),radial-gradient(circle at 70% 80%,rgba(255,255,255,.1) 0%,transparent 2%),radial-gradient(circle at 90% 10%,rgba(255,255,255,.1) 0%,transparent 2%);animation:_ngcontent-%COMP%_fallingParticles 20s linear infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_fallingParticles{0%{transform:translateY(-100%)}to{transform:translateY(100%)}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{animation:gradientShift 12s ease-in-out infinite,fadeIn 1.5s ease-out}.login-container[_ngcontent-%COMP%]:before, .login-container[_ngcontent-%COMP%]:after{animation-duration:20s}.login-card[_ngcontent-%COMP%]{animation:cardEntrance 1s cubic-bezier(.25,.46,.45,.94) .3s both}}']})};export{T as LoginComponent};
